## *.fdo file is auto generated by Project Navigator
## *.fdo file runs simulations with VHDL 93 version
## This file creates a new *.fdo file, named *.2008.fdo that runs simulations with VHDL 2008 version

#### Parameters:
## fdo file name:
puts "Enter file name with no extension:"
set filenamenoextension [gets stdin]

package require fileutil

proc processContents {fileContents} {
    # Search: vcom -explicit  -93, replace: vcom -explicit  -2008
    return [string map {"vcom -explicit  -93" "vcom -explicit  -2008"} $fileContents]
}

set filename $filenamenoextension.fdo
set temp     $filenamenoextension.2008.fdo

set in  [open $filename r]
set out [open $temp     w]

# line-by-line, read the original file
while {[gets $in line] != -1} {
    set line [processContents $line]
    set line [string tolower $line]

    # write the transformed line
    puts $out $line
}

close $in
close $out
